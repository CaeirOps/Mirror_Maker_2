{
  "id": null,
  "uid": "kafka-replication-dashboard",
  "title": "Kafka Replication Dashboard",
  "tags": ["kafka", "replication", "exporter"],
  "timezone": "browser",
  "schemaVersion": 16,
  "version": 0,
  "panels": [
    {
      "title": "Total Topics",
      "type": "stat",
      "gridPos": {
        "x": 0,
        "y": 0,
        "w": 6,
        "h": 3
      },
      "targets": [
        {
          "expr": "count(kafka_topic_partitions)",
          "format": "time_series",
          "legendFormat": "Total Topics",
          "refId": "A"
        }
      ]
    },
    {
      "title": "Total Partitions",
      "type": "stat",
      "gridPos": {
        "x": 6,
        "y": 0,
        "w": 6,
        "h": 3
      },
      "targets": [
        {
          "expr": "sum(kafka_topic_partitions)",
          "format": "time_series",
          "legendFormat": "Total Partitions",
          "refId": "B"
        }
      ]
    },
    {
      "title": "Consumer Group Lag",
      "type": "graph",
      "gridPos": {
        "x": 0,
        "y": 3,
        "w": 12,
        "h": 6
      },
      "targets": [
        {
          "expr": "sum(kafka_consumergroup_lag) by (group, topic)",
          "format": "time_series",
          "legendFormat": "{{group}} / {{topic}}",
          "refId": "C"
        }
      ]
    },
    {
      "title": "Messages Produced per Second",
      "type": "graph",
      "gridPos": {
        "x": 0,
        "y": 9,
        "w": 6,
        "h": 6
      },
      "targets": [
        {
          "expr": "sum(rate(kafka_topic_partition_current_offset[1m]))",
          "format": "time_series",
          "legendFormat": "Produced",
          "refId": "D"
        }
      ]
    },
    {
      "title": "Messages Consumed per Second",
      "type": "graph",
      "gridPos": {
        "x": 6,
        "y": 9,
        "w": 6,
        "h": 6
      },
      "targets": [
        {
          "expr": "sum(rate(kafka_consumergroup_current_offset[1m]))",
          "format": "time_series",
          "legendFormat": "Consumed",
          "refId": "E"
        }
      ]
    },
    {
      "title": "Under Replicated Partitions",
      "type": "stat",
      "gridPos": {
        "x": 0,
        "y": 15,
        "w": 6,
        "h": 3
      },
      "targets": [
        {
          "expr": "sum(kafka_topic_partition_under_replicated_partition)",
          "format": "time_series",
          "legendFormat": "Under Replicated",
          "refId": "F"
        }
      ]
    },
    {
      "title": "Partitions In Sync",
      "type": "stat",
      "gridPos": {
        "x": 6,
        "y": 15,
        "w": 6,
        "h": 3
      },
      "targets": [
        {
          "expr": "sum(kafka_topic_partition_in_sync_replica)",
          "format": "time_series",
          "legendFormat": "In Sync",
          "refId": "G"
        }
      ]
    }
  ],
  "templating": {
    "list": [
      {
        "type": "query",
        "name": "cluster",
        "label": "Cluster",
        "datasource": "Prometheus",
        "query": "label_values(kafka_topic_partitions, cluster)"
      }
    ]
  }
}