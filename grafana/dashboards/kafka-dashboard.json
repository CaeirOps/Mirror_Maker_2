{
  "dashboard": {
    "id": null,
    "uid": "kafka-dashboard",
    "title": "Kafka Cluster Overview",
    "timezone": "browser",
    "schemaVersion": 36,
    "version": 1,
    "refresh": "10s",
    "panels": [
      {
        "type": "stat",
        "title": "Total Topics",
        "gridPos": { "x": 0, "y": 0, "w": 6, "h": 3 },
        "datasource": "Prometheus",
        "targets": [
          {
            "expr": "count(kafka_topic_partition_current_offset) by (topic)",
            "refId": "A"
          }
        ]
      },
      {
        "type": "stat",
        "title": "Total Partitions",
        "gridPos": { "x": 6, "y": 0, "w": 6, "h": 3 },
        "datasource": "Prometheus",
        "targets": [
          {
            "expr": "sum(kafka_topic_partitions{partition!=\"\"})",
            "refId": "A"
          }
        ]
      },
      {
        "type": "stat",
        "title": "Consumer Group Lag",
        "gridPos": { "x": 0, "y": 3, "w": 6, "h": 3 },
        "datasource": "Prometheus",
        "targets": [
          {
            "expr": "sum(kafka_consumer_group_lag{consumer_group!=\"\"}) by (consumer_group)",
            "refId": "A"
          }
        ]
      },
      {
        "type": "stat",
        "title": "Messages In per Second",
        "gridPos": { "x": 6, "y": 3, "w": 6, "h": 3 },
        "datasource": "Prometheus",
        "targets": [
          {
            "expr": "rate(kafka_topic_partition_current_offset[1m])",
            "refId": "A"
          }
        ]
      },
      {
        "type": "stat",
        "title": "Messages Out per Second",
        "gridPos": { "x": 0, "y": 6, "w": 6, "h": 3 },
        "datasource": "Prometheus",
        "targets": [
          {
            "expr": "rate(kafka_topic_partition_oldest_offset[1m])",
            "refId": "A"
          }
        ]
      },
      {
        "type": "stat",
        "title": "Total Consumers",
        "gridPos": { "x": 6, "y": 6, "w": 6, "h": 3 },
        "datasource": "Prometheus",
        "targets": [
          {
            "expr": "count(kafka_consumer_group_current_offset) by (consumer_group)",
            "refId": "A"
          }
        ]
      }
    ],
    "templating": {
      "list": [
        {
          "name": "datasource",
          "type": "datasource",
          "query": "prometheus",
          "current": {
            "text": "Prometheus",
            "value": "Prometheus"
          }
        }
      ]
    }
  },
  "overwrite": true
}